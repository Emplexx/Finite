package moe.emi.finite.service.data

import android.content.Context
import me.msoul.datastore.EnumPreference
import me.msoul.datastore.key
import moe.emi.finite.R

enum class Currency(
	val iso4217Alpha: String,
//	private val iso4217Numeric: Int?,
	private val rawSymbol: String?,
	val fullNameId: Int,
//	private val flag: Int?,
) {
	
	AED("AED", "د.إ",		R.string.name_AED),
	AFN("AFN", "؋",			R.string.name_AFN),
	ALL("ALL", "L",			R.string.name_ALL),
	AMD("AMD", "֏",			R.string.name_AMD),
	ANG("ANG", "ƒ",			R.string.name_ANG),
	AOA("AOA", "Kz", 		R.string.name_AOA),
	ARS("ARS", "$", 		R.string.name_ARS),
	AUD("AUD", "$", 		R.string.name_AUD),
	AWG("AWG", "ƒ", 		R.string.name_AWG),
	AZN("AZN", "₼", 		R.string.name_AZN),
	BAM("BAM", "KM", 		R.string.name_BAM),
	BBD("BBD", "$", 		R.string.name_BBD),
	BDT("BDT", "৳", 		R.string.name_BDT),
	BGN("BGN", "лв", 		R.string.name_BGN),
	BHD("BHD", ".د.ب", 		R.string.name_BHD),
	BIF("BIF", null, 		R.string.name_BIF),
	BMD("BMD", "$", 		R.string.name_BMD),
	BND("BND", "$", 		R.string.name_BND),
	BOB("BOB", "Bs.", 		R.string.name_BOB),
	BRL("BRL", "R\$n", 		R.string.name_BRL),
	BSD("BSD", "$", 		R.string.name_BSD),
	BTC("BTC", "₿", 		R.string.name_BTC),
	BTN("BTN", "Nu.", 		R.string.name_BTN),
	BWP("BWP", "P", 		R.string.name_BWP),
	BYN("BYN", "Br", 		R.string.name_BYN),
	BYR("BYR", "р.", 		R.string.name_BYR),
	BZD("BZD", "$", 		R.string.name_BZD),
	CAD("CAD", "$", 		R.string.name_CAD),
	CDF("CDF", null, 		R.string.name_CDF),
	CHF("CHF", null, 		R.string.name_CHF),
	CLF("CLF", null, 		R.string.name_CLF),
	CLP("CLP", "$", 		R.string.name_CLP),
	CNY("CNY", "¥", 		R.string.name_CNY),
	COP("COP", "$", 		R.string.name_COP),
	CRC("CRC", "₡", 		R.string.name_CRC),
	CUC("CUC", "$", 		R.string.name_CUC),
	CUP("CUP", "$", 		R.string.name_CUP),
	CVE("CVE", "$", 		R.string.name_CVE),
	CZK("CZK", "Kč", 		R.string.name_CZK),
	DJF("DJF", null, 		R.string.name_DJF),
	DKK("DKK", "kr", 		R.string.name_DKK),
	DOP("DOP", "RD$", 		R.string.name_DOP),
	DZD("DZD", null, 		R.string.name_DZD),
	EGP("EGP", "ج.م", 		R.string.name_EGP),
	ERN("ERN", null, 		R.string.name_ERN),
	ETB("ETB", null, 		R.string.name_ETB),
	EUR("EUR", "€", 		R.string.name_EUR),
	FJD("FJD", null, 		R.string.name_FJD),
	FKP("FKP", null, 		R.string.name_FKP),
	GBP("GBP", "£", 		R.string.name_GBP),
	GEL("GEL", null, 		R.string.name_GEL),
	GGP("GGP", null, 		R.string.name_GGP),
	GHS("GHS", null, 		R.string.name_GHS),
	GIP("GIP", null, 		R.string.name_GIP),
	GMD("GMD", null, 		R.string.name_GMD),
	GNF("GNF", null, 		R.string.name_GNF),
	GTQ("GTQ", null, 		R.string.name_GTQ),
	GYD("GYD", null, 		R.string.name_GYD),
	HKD("HKD", null, 		R.string.name_HKD),
	HNL("HNL", null, 		R.string.name_HNL),
	HRK("HRK", null, 		R.string.name_HRK),
	HTG("HTG", null, 		R.string.name_HTG),
	HUF("HUF", null, 		R.string.name_HUF),
	IDR("IDR", "Rp", 		R.string.name_IDR),
	ILS("ILS", "₪", 		R.string.name_ILS),
	IMP("IMP", null, 		R.string.name_IMP),
	INR("INR", "₹", 		R.string.name_INR),
	IQD("IQD", null, 		R.string.name_IQD),
	IRR("IRR", null, 		R.string.name_IRR),
	ISK("ISK", null, 		R.string.name_ISK),
	JEP("JEP", null, 		R.string.name_JEP),
	JMD("JMD", null, 		R.string.name_JMD),
	JOD("JOD", null, 		R.string.name_JOD),
	JPY("JPY", "¥", 		R.string.name_JPY),
	KES("KES", null, 		R.string.name_KES),
	KGS("KGS", null, 		R.string.name_KGS),
	KHR("KHR", null, 		R.string.name_KHR),
	KMF("KMF", null, 		R.string.name_KMF),
	KPW("KPW", null, 		R.string.name_KPW),
	KRW("KRW", "₩", 		R.string.name_KRW),
	KWD("KWD", null, 		R.string.name_KWD),
	KYD("KYD", null, 		R.string.name_KYD),
	KZT("KZT", "₸", 		R.string.name_KZT),
	LAK("LAK", null, 		R.string.name_LAK),
	LBP("LBP", null, 		R.string.name_LBP),
	LKR("LKR", null, 		R.string.name_LKR),
	LRD("LRD", null, 		R.string.name_LRD),
	LSL("LSL", null, 		R.string.name_LSL),
	LTL("LTL", null, 		R.string.name_LTL),
	LVL("LVL", null, 		R.string.name_LVL),
	LYD("LYD", null, 		R.string.name_LYD),
	MAD("MAD", null, 		R.string.name_MAD),
	MDL("MDL", null, 		R.string.name_MDL),
	MGA("MGA", null, 		R.string.name_MGA),
	MKD("MKD", null, 		R.string.name_MKD),
	MMK("MMK", null, 		R.string.name_MMK),
	MNT("MNT", null, 		R.string.name_MNT),
	MOP("MOP", null, 		R.string.name_MOP),
	MRO("MRO", null, 		R.string.name_MRO),
	MUR("MUR", null, 		R.string.name_MUR),
	MVR("MVR", null, 		R.string.name_MVR),
	MWK("MWK", null, 		R.string.name_MWK),
	MXN("MXN", null, 		R.string.name_MXN),
	MYR("MYR", "RM", 		R.string.name_MYR),
	MZN("MZN", null, 		R.string.name_MZN),
	NAD("NAD", null, 		R.string.name_NAD),
	NGN("NGN", null, 		R.string.name_NGN),
	NIO("NIO", null, 		R.string.name_NIO),
	NOK("NOK", null, 		R.string.name_NOK),
	NPR("NPR", null, 		R.string.name_NPR),
	NZD("NZD", null, 		R.string.name_NZD),
	OMR("OMR", null, 		R.string.name_OMR),
	PAB("PAB", null, 		R.string.name_PAB),
	PEN("PEN", "S/.", 		R.string.name_PEN),
	PGK("PGK", null, 		R.string.name_PGK),
	PHP("PHP", "₱", 		R.string.name_PHP),
	PKR("PKR", null, 		R.string.name_PKR),
	PLN("PLN", "zł", 		R.string.name_PLN),
	PYG("PYG", null, 		R.string.name_PYG),
	QAR("QAR", null, 		R.string.name_QAR),
	RON("RON", "lei", 		R.string.name_RON),
	RSD("RSD", null, 		R.string.name_RSD),
	RUB("RUB", "₽", 		R.string.name_RUB),
	RWF("RWF", null, 		R.string.name_RWF),
	SAR("SAR", null, 		R.string.name_SAR),
	SBD("SBD", null, 		R.string.name_SBD),
	SCR("SCR", null, 		R.string.name_SCR),
	SDG("SDG", null, 		R.string.name_SDG),
	SEK("SEK", null, 		R.string.name_SEK),
	SGD("SGD", null, 		R.string.name_SGD),
	SHP("SHP", null, 		R.string.name_SHP),
	SLE("SLE", null, 		R.string.name_SLE),
	SLL("SLL", null, 		R.string.name_SLL),
	SOS("SOS", null, 		R.string.name_SOS),
	SSP("SSP", null, 		R.string.name_SSP),
	SRD("SRD", null, 		R.string.name_SRD),
	STD("STD", null, 		R.string.name_STD),
	SYP("SYP", null, 		R.string.name_SYP),
	SZL("SZL", null, 		R.string.name_SZL),
	THB("THB", "฿", 		R.string.name_THB),
	TJS("TJS", null, 		R.string.name_TJS),
	TMT("TMT", null, 		R.string.name_TMT),
	TND("TND", null, 		R.string.name_TND),
	TOP("TOP", null, 		R.string.name_TOP),
	TRY("TRY", "₺", 		R.string.name_TRY),
	TTD("TTD", null, 		R.string.name_TTD),
	TWD("TWD", null, 		R.string.name_TWD),
	TZS("TZS", null, 		R.string.name_TZS),
	UAH("UAH", "₴", 		R.string.name_UAH),
	UGX("UGX", null, 		R.string.name_UGX),
	USD("USD", "$", 		R.string.name_USD),
	UYU("UYU", null, 		R.string.name_UYU),
	UZS("UZS", null, 		R.string.name_UZS),
	VEF("VEF", null, 		R.string.name_VEF),
	VES("VES", null, 		R.string.name_VES),
	VND("VND", "₫", 		R.string.name_VND),
	VUV("VUV", null, 		R.string.name_VUV),
	WST("WST", null, 		R.string.name_WST),
	XAF("XAF", null, 		R.string.name_XAF),
	XAG("XAG", null, 		R.string.name_XAG),
	XAU("XAU", null, 		R.string.name_XAU),
	XCD("XCD", null, 		R.string.name_XCD),
	XDR("XDR", null, 		R.string.name_XDR),
	XOF("XOF", null, 		R.string.name_XOF),
	XPF("XPF", null, 		R.string.name_XPF),
	YER("YER", null, 		R.string.name_YER),
	ZAR("ZAR", "R", 		R.string.name_ZAR),
	ZMK("ZMK", null, 		R.string.name_ZMK),
	ZMW("ZMW", null, 		R.string.name_ZMW),
	ZWL("ZWL", null, 		R.string.name_ZWL);
	
	
	val symbol: String?
		get() = this.rawSymbol
			?.let { if (it.hasRtlChar()) it.wrapLtr() else it }
	
	context(Context)
	val fullName: String
		get() = getString(fullNameId)
	
	fun fullName(context: Context) = with(context) { fullName }
	
	private fun String.wrapLtr(): String {
		// isolate (recommended, but too new - FSI + PDI)
		// return "\u2067" + this + "\u2069"
		// embedding (discouraged - LRE + PDF)
		return "\u202A" + this + "\u202C"
	}
	
	private fun String.hasRtlChar(): Boolean {
		return this.any { it.directionality == CharDirectionality.RIGHT_TO_LEFT_ARABIC }
	}
	
}